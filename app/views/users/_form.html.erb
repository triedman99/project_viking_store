<div class="page-header text-center">
  <h1>Edit User <%= @user.id %>: <%= @user.first_name %> <%= @user.last_name %></h1>
</div>
<div class='container'>
  <div class='row'>
    <% unless flash[:error].nil? %>
      <div class="alert alert-danger"><%= flash[:error] %></div>
    <% end %>
    <%= form_for @user do |f| %>
      <div class='form-group'>
        <%= f.label :first_name %>
        <%= f.text_field :first_name, placeholder: "#{@user.first_name}", class: "form-control"%>
        <br/>
        <%= f.label :last_name %>
        <%= f.text_field :last_name, placeholder: "#{@user.last_name}", class: "form-control"%>
        <br/>
        <%= f.label :email %>
        <%= f.text_field :email, placeholder: "#{@user.email}", class: "form-control" %>
        <br/>
      </div>
      <% if @user.id %>
        <div class='form-group'>
          <%= f.label :billing_id %>
          <%= f.select :billing_id, @user.addresses.all.collect {|c| ["#{c.id}: #{c.street_address}", c.id]}, {}, {class: "form-control"} %>
          <br/>
          <%= f.label :shipping_id %>
          <%= f.select :shipping_id, @user.addresses.all.collect {|c| ["#{c.id}: #{c.street_address}", c.id]}, {}, {class: "form-control"} %>
          <br/>
        </div>
      <% end %>
      <div class='form-group'>
        <%= f.submit class: 'btn btn-primary btn-large btn-block' %>
        <% if @user.id %>
          <br/>
          <%= link_to "Delete #{@user.first_name} #{@user.last_name}", user_path(@user), method: 'delete', data: {confirm: "Are you sure?"} %>
        <% end %>
      </div>
    <% end %>
  </div>
</div>